<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Service Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Class/Service" class="dashAnchor"></a>

    <a title="Service Class Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          Siesta Docs
        </a>
         (96% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/bustoutsolutions/siesta">
            <img class="header-icon" src="../img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">Siesta Reference</a>
      <img class="carat" src="../img/carat.png" />
      Service Class Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Resources.html">Resources</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Service.html">Service</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Resource.html">Resource</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Entity.html">Entity</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Configuration.html">Configuration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/ConfigurationPatternConvertible.html">ConfigurationPatternConvertible</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/TypedContentAccessors.html">TypedContentAccessors</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Observing%20Resources.html">Observing Resources</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/ResourceObserver.html">ResourceObserver</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Observing%20Resources.html#/s:6Siesta23ResourceObserverClosurea">ResourceObserverClosure</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/ResourceEvent.html">ResourceEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/ResourceEvent/NewDataSource.html">– NewDataSource</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Requests.html">Requests</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/Request.html">Request</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/RequestMethod.html">RequestMethod</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/RequestState.html">RequestState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/RequestError.html">RequestError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/RequestError/Cause.html">– Cause</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/Response.html">Response</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/ResponseInfo.html">ResponseInfo</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Request%20Customization.html">Request Customization</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/RequestChainAction.html">RequestChainAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/RequestDelegate.html">RequestDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/RequestCompletionHandler.html">RequestCompletionHandler</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Response%20Pipeline.html">Response Pipeline</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Pipeline.html">Pipeline</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/PipelineStage.html">PipelineStage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/PipelineStage/MutationAction.html">– MutationAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/PipelineStageKey.html">PipelineStageKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/ResponseTransformer.html">ResponseTransformer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/ResponseContentTransformer.html">ResponseContentTransformer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/ResponseContentTransformer/InputTypeMismatchAction.html">– InputTypeMismatchAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/StandardTransformer.html">StandardTransformer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Response%20Pipeline.html#/s:6Siesta23JSONResponseTransformeryAA08ResponseC0_pSbF">JSONResponseTransformer(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Response%20Pipeline.html#/s:6Siesta23TextResponseTransformeryAA0cD0_pSbF">TextResponseTransformer(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Response%20Pipeline.html#/s:6Siesta24ImageResponseTransformeryAA0cD0_pSbF">ImageResponseTransformer(_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Logging.html">Logging</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/SiestaLog.html">SiestaLog</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/SiestaLog/Category.html">– Category</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Caching.html">Caching</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/EntityCache.html">EntityCache</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Network%20Layer.html">Network Layer</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/NetworkingProvider.html">NetworkingProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/NetworkingProviderConvertible.html">NetworkingProviderConvertible</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/RequestNetworking.html">RequestNetworking</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Network%20Layer.html#/s:6Siesta35RequestNetworkingCompletionCallbacka">RequestNetworkingCompletionCallback</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/RequestTransferMetrics.html">RequestTransferMetrics</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/URLSessionProvider.html">URLSessionProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/SessionTaskContainer.html">SessionTaskContainer</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Extensions.html">Other Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Extensions.html#/s:Sa">Array</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Extensions.html#/s:SD">Dictionary</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Extensions.html#/c:objc(cs)NSArray">NSArray</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Extensions.html#/c:objc(cs)NSDictionary">NSDictionary</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/NSRegularExpression.html">NSRegularExpression</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Set.html">Set</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/URL.html">URL</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/URLSession.html">URLSession</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/URLSessionConfiguration.html">URLSessionConfiguration</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Protocols.html">Other Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Protocols.html#/s:6Siesta15JSONConvertibleP">JSONConvertible</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/URLConvertible.html">URLConvertible</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Typealiases.html">Other Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Typealiases.html#/Image">Image</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Other%20Typealiases.html#/s:6Siesta5Imagea">Image</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>Service</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">@objc</span><span class="p">(</span><span class="kt">BOSService</span><span class="p">)</span>
<span class="kd">open</span> <span class="kd">class</span> <span class="kt">Service</span> <span class="p">:</span> <span class="kt">NSObject</span></code></pre>

                </div>
              </div>
            <p>A set of logically connected RESTful resources. Resources within a service share caching, configuration, and a
“same URL → same resource” uniqueness guarantee.</p>

<p>You will typically create a separate instance of <code>Service</code> for each REST API you use. You can either subclass
<code>Service</code> or encapsulte it inside a wrapper. Regardless, to reap the benefits of Siesta, you’ll want to ensure that
all the observers of an API share a single instance.</p>

<p>You can optionally specify a <code>baseURL</code>, which allows you to get endpoints by path: <code>service.resource(&quot;/foo&quot;)</code>.
Specifying a <code>baseURL</code> does <em>not</em> limit the service only to subpaths of that URL. Its one and only purpose is to be
the starting point for <code>resource(_:)</code>.</p>

<p>Note that <code>baseURL</code> is only a convenience, and is optional.
If you want to group multiple base URLs in a single <code>Service</code> instance, use <code>resource(baseURL:path:)</code>.
If you want to feed your service arbitrary URLs with no common root, use <code>resource(absoluteURL:)</code>.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@Siesta@objc(cs)BOSService(py)baseURL"></a>
                    <a name="//apple_ref/swift/Property/baseURL" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@Siesta@objc(cs)BOSService(py)baseURL">baseURL</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The root URL of the API. If nil, then <code><a href="../Classes/Service.html#/c:@M@Siesta@objc(cs)BOSService(im)resource:">resource(_:)</a></code> will only accept absolute URLs.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="k">let</span> <span class="nv">baseURL</span><span class="p">:</span> <span class="kt">URL</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/bustoutsolutions/siesta/blob/1.5.0/Source/Siesta/Service.swift#L33">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta7ServiceC7baseURL20standardTransformers10networkingAcA14URLConvertible_pSg_SayAA19StandardTransformerVGAA29NetworkingProviderConvertible_ptcfc"></a>
                    <a name="//apple_ref/swift/Method/init(baseURL:standardTransformers:networking:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta7ServiceC7baseURL20standardTransformers10networkingAcA14URLConvertible_pSg_SayAA19StandardTransformerVGAA29NetworkingProviderConvertible_ptcfc">init(baseURL:<wbr>standardTransformers:<wbr>networking:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates a new service for the given API.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span>
        <span class="nv">baseURL</span><span class="p">:</span> <span class="kt"><a href="../Protocols/URLConvertible.html">URLConvertible</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span>
        <span class="nv">standardTransformers</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Structs/StandardTransformer.html">StandardTransformer</a></span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="n">json</span><span class="p">,</span> <span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="o">.</span><span class="n">image</span><span class="p">],</span>
        <span class="nv">networking</span><span class="p">:</span> <span class="kt"><a href="../Protocols/NetworkingProviderConvertible.html">NetworkingProviderConvertible</a></span> <span class="o">=</span> <span class="kt">URLSessionConfiguration</span><span class="o">.</span><span class="n">ephemeral</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>baseURL</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The URL underneath which the API exposes its endpoints. If nil, there is no base URL, and thus you must use
only <code><a href="../Classes/Service.html#/s:6Siesta7ServiceC8resource11absoluteURLAA8ResourceCAA14URLConvertible_pSg_tF">resource(absoluteURL:)</a></code> and <code><a href="../Classes/Service.html#/s:6Siesta7ServiceC8resource7baseURL4pathAA8ResourceCAA14URLConvertible_pSg_SStF">resource(baseURL:path:)</a></code> to acquire resources.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>standardTransformers</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>By default, includes:

<ul>
<li>JSON → <code>Dictionary</code>/<code>Array</code></li>
<li>text → <code>String</code></li>
<li>image → <code>UIImage</code>/<code>NSImage</code>.
If empty, leaves all responses as <code>Data</code> (unless you add your own <code><a href="../Protocols/ResponseTransformer.html">ResponseTransformer</a></code> using <code><a href="../Classes/Service.html#/s:6Siesta7ServiceC9configure_14requestMethods11description10configureryAA31ConfigurationPatternConvertible_p_SayAA13RequestMethodOGSgSSSgyAA0H0VzctF">configure(...)</a></code>).
For more details on the various standard parsing options, see <code><a href="../Structs/StandardTransformer.html">StandardTransformer</a></code>.</li>
</ul></p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>networking</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The handler to use for networking. The default is <code>URLSession</code> with ephemeral session configuration. You can
pass a <code>URLSession</code>, <code>URLSessionConfiguration</code>, or <code>Alamofire.Manager</code> to use an existing provider with
custom configuration. You can also use your own networking library of choice by implementing <code><a href="../Protocols/NetworkingProvider.html">NetworkingProvider</a></code>.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/bustoutsolutions/siesta/blob/1.5.0/Source/Siesta/Service.swift#L56-L78">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@Siesta@objc(cs)BOSService(im)resource:"></a>
                    <a name="//apple_ref/swift/Method/resource(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@Siesta@objc(cs)BOSService(im)resource:">resource(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns the unique resource with the given path appended to the path component of <code><a href="../Classes/Service.html#/c:@M@Siesta@objc(cs)BOSService(py)baseURL">baseURL</a></code>.</p>

<p>A leading slash is optional, and has no effect:</p>
<pre class="highlight swift"><code><span class="n">service</span><span class="o">.</span><span class="nf">resource</span><span class="p">(</span><span class="s">"users"</span><span class="p">)</span>   <span class="c1">// same</span>
<span class="n">service</span><span class="o">.</span><span class="nf">resource</span><span class="p">(</span><span class="s">"/users"</span><span class="p">)</span>  <span class="c1">// thing</span>
</code></pre>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>The <code>path</code> parameter is simply appended to <code><a href="../Classes/Service.html#/c:@M@Siesta@objc(cs)BOSService(py)baseURL">baseURL</a></code>’s path, and is <em>never</em> interpreted as a URL. Strings
such as <code>..</code>, <code>//</code>, <code>?</code>, and <code>https:</code> have no special meaning; they go directly into the resulting
resource’s path, with escaping if necessary.</p>

<p>If you want to pass an absolute URL, use <code><a href="../Classes/Service.html#/s:6Siesta7ServiceC8resource11absoluteURLAA8ResourceCAA14URLConvertible_pSg_tF">resource(absoluteURL:)</a></code>.</p>

<p>If you want to pass a relative URL to be resolved against <code><a href="../Classes/Service.html#/c:@M@Siesta@objc(cs)BOSService(py)baseURL">baseURL</a></code>, use <code>resource(&quot;/&quot;).relative(relativeURL)</code>.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span><span class="p">(</span><span class="nv">resource</span><span class="p">:)</span>
<span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">resource</span><span class="p">(</span><span class="n">_</span> <span class="nv">path</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Classes/Resource.html">Resource</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/bustoutsolutions/siesta/blob/1.5.0/Source/Siesta/Service.swift#L98-L101">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta7ServiceC8resource7baseURL4pathAA8ResourceCAA14URLConvertible_pSg_SStF"></a>
                    <a name="//apple_ref/swift/Method/resource(baseURL:path:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta7ServiceC8resource7baseURL4pathAA8ResourceCAA14URLConvertible_pSg_SStF">resource(baseURL:<wbr>path:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns the unique resource with the given path appended to <code>customBaseURL</code>’s path, ignoring the service’s
<code><a href="../Classes/Service.html#/c:@M@Siesta@objc(cs)BOSService(py)baseURL">baseURL</a></code> property.</p>

<p>As with <code><a href="../Classes/Service.html#/c:@M@Siesta@objc(cs)BOSService(im)resource:">resource(_:)</a></code>:</p>

<ul>
<li>leading slashes on <code>path</code> are optional and have no effect, and</li>
<li><code>path</code> is <em>always</em> escaped if necessary so that it is part of the URL’s path, and is never interpreted as a
query string or a relative URL.</li>
</ul>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">resource</span><span class="p">(</span><span class="n"><a href="../Classes/Service.html#/c:@M@Siesta@objc(cs)BOSService(py)baseURL">baseURL</a></span> <span class="nv">customBaseURL</span><span class="p">:</span> <span class="kt"><a href="../Protocols/URLConvertible.html">URLConvertible</a></span><span class="p">?,</span> <span class="nv">path</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Classes/Resource.html">Resource</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/bustoutsolutions/siesta/blob/1.5.0/Source/Siesta/Service.swift#L113-L118">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta7ServiceC8resource11absoluteURLAA8ResourceCAA14URLConvertible_pSg_tF"></a>
                    <a name="//apple_ref/swift/Method/resource(absoluteURL:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta7ServiceC8resource11absoluteURLAA8ResourceCAA14URLConvertible_pSg_tF">resource(absoluteURL:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns the unique resource with the given URL, ignoring <code><a href="../Classes/Service.html#/c:@M@Siesta@objc(cs)BOSService(py)baseURL">baseURL</a></code>.</p>

<p>This method will <em>always</em> return the same instance of <code><a href="../Classes/Resource.html">Resource</a></code> for the same URL within
the context of a <code>Service</code> as long as anyone retains a reference to that resource.
Unreferenced resources remain in memory (with their cached data) until a low memory event
occurs, at which point they are summarily evicted.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    This method always returns a <code><a href="../Classes/Resource.html">Resource</a></code>, and does not throw errors. If <code>url</code> is nil (likely because it
    came from a malformed URL string), this method returns a resource whose requests always fail.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">resource</span><span class="p">(</span><span class="n">absoluteURL</span> <span class="nv">urlConvertible</span><span class="p">:</span> <span class="kt"><a href="../Protocols/URLConvertible.html">URLConvertible</a></span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Classes/Resource.html">Resource</a></span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/bustoutsolutions/siesta/blob/1.5.0/Source/Siesta/Service.swift#L131-L154">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Resource%20Configuration"></a>
                <a name="//apple_ref/swift/Section/Resource Configuration" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Resource%20Configuration"></a>
                  <h3 class="section-name"><p>Resource Configuration</p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta7ServiceC9configure_14requestMethods11description10configureryAA31ConfigurationPatternConvertible_p_SayAA13RequestMethodOGSgSSSgyAA0H0VzctF"></a>
                    <a name="//apple_ref/swift/Method/configure(_:requestMethods:description:configurer:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta7ServiceC9configure_14requestMethods11description10configureryAA31ConfigurationPatternConvertible_p_SayAA13RequestMethodOGSgSSSgyAA0H0VzctF">configure(_:<wbr>requestMethods:<wbr>description:<wbr>configurer:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Applies configuration to resources whose URLs match a given pattern.</p>

<p>Examples:</p>
<pre class="highlight swift"><code><span class="n">configure</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="n">expirationTime</span> <span class="o">=</span> <span class="mi">10</span> <span class="p">}</span>  <span class="c1">// global default</span>

<span class="nf">configure</span><span class="p">(</span><span class="s">"/items"</span><span class="p">)</span>    <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="n">expirationTime</span> <span class="o">=</span> <span class="mi">5</span> <span class="p">}</span>
<span class="nf">configure</span><span class="p">(</span><span class="s">"/items/​*"</span><span class="p">)</span>  <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">"Funkiness"</span><span class="p">]</span> <span class="o">=</span> <span class="s">"Very"</span> <span class="p">}</span>
<span class="nf">configure</span><span class="p">(</span><span class="s">"/admin/​**"</span><span class="p">)</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">"Auth-token"</span><span class="p">]</span> <span class="o">=</span> <span class="n">token</span> <span class="p">}</span>

<span class="k">let</span> <span class="nv">user</span> <span class="o">=</span> <span class="nf">resource</span><span class="p">(</span><span class="s">"/user/current"</span><span class="p">)</span>
<span class="nf">configure</span><span class="p">(</span><span class="n">user</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">$0</span><span class="o">.</span><span class="n">pipeline</span><span class="p">[</span><span class="o">.</span><span class="n">model</span><span class="p">]</span><span class="o">.</span><span class="nf">cacheUsing</span><span class="p">(</span><span class="n">userProfileCache</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>Configuration closures apply to any resource they match, in the order they were added, whether global or not. That
means that you will usually want to add your global configuration first, then resource-specific configuration.</p>

<p>If you want to provide global configuration, or if you need more fine-grained URL matching, use the other flavor
of this method that takes a predicate as its first argument.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Classes/Service.html#/s:6Siesta7ServiceC9configure14whenURLMatches14requestMethods11description10configurerySb10Foundation3URLVc_SayAA13RequestMethodOGSgSSSgyAA13ConfigurationVzctF">configure(whenURLMatches:requestMethods:description:configurer:)</a></code>
for global config and more fine-grained matching</p>

</div><div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Classes/Service.html#/c:@M@Siesta@objc(cs)BOSService(im)invalidateConfiguration">invalidateConfiguration()</a></code></p>

</div><div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p>For more details about the rules of pattern matching:</p>

<ul>
<li><code><a href="../Extensions/String.html#/s:SS6SiestaE20configurationPattern3forSb10Foundation3URLVcAA7ServiceC_tF">String.configurationPattern(for:)</a></code></li>
<li><code><a href="../Classes/Resource.html#/s:6Siesta8ResourceC20configurationPattern3forSb10Foundation3URLVcAA7ServiceC_tF">Resource.configurationPattern(for:)</a></code></li>
<li><code><a href="../Extensions/NSRegularExpression.html#/s:So19NSRegularExpressionC6SiestaE20configurationPattern3forSb10Foundation3URLVcAC7ServiceC_tF">NSRegularExpression.configurationPattern(for:)</a></code></li>
</ul>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">configure</span><span class="p">(</span>
        <span class="n">_</span> <span class="nv">pattern</span><span class="p">:</span> <span class="kt"><a href="../Protocols/ConfigurationPatternConvertible.html">ConfigurationPatternConvertible</a></span><span class="p">,</span>
        <span class="nv">requestMethods</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Enums/RequestMethod.html">RequestMethod</a></span><span class="p">]?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span>
        <span class="nv">description</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span>
        <span class="nv">configurer</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="k">inout</span> <span class="kt"><a href="../Structs/Configuration.html">Configuration</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>pattern</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Selects the subset of resources to which this configuration applies. You can pass a <code>String</code>, <code><a href="../Classes/Resource.html">Resource</a></code>, or
<code>NSRegularExpression</code> for the <code>pattern</code> argument — or write your own custom implementation of
<code><a href="../Protocols/ConfigurationPatternConvertible.html">ConfigurationPatternConvertible</a></code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>requestMethods</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>If specified, only applies this configuration to requests with the given HTTP methods.
Defaults to <em>all</em> methods.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>description</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional description of this piece of configuration, for logging and debugging purposes.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>configurer</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A closure that receives a mutable <code><a href="../Structs/Configuration.html">Configuration</a></code>, referenced as <code>$0</code>, which it may modify as it
sees fit. This closure will be called whenever Siesta needs to generate or refresh configuration. You should
not rely on it being called at any particular time, and should avoid making it cause side effects.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/bustoutsolutions/siesta/blob/1.5.0/Source/Siesta/Service.swift#L208-L219">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta7ServiceC9configure14whenURLMatches14requestMethods11description10configurerySb10Foundation3URLVc_SayAA13RequestMethodOGSgSSSgyAA13ConfigurationVzctF"></a>
                    <a name="//apple_ref/swift/Method/configure(whenURLMatches:requestMethods:description:configurer:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta7ServiceC9configure14whenURLMatches14requestMethods11description10configurerySb10Foundation3URLVc_SayAA13RequestMethodOGSgSSSgyAA13ConfigurationVzctF">configure(whenURLMatches:<wbr>requestMethods:<wbr>description:<wbr>configurer:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Applies configuration to resources whose URL matches an arbitrary predicate.
Use this if the wildcards in other flavor of <code><a href="../Classes/Service.html#/s:6Siesta7ServiceC9configure_14requestMethods11description10configureryAA31ConfigurationPatternConvertible_p_SayAA13RequestMethodOGSgSSSgyAA0H0VzctF">configure(...)</a></code> aren’t robust enough.</p>

<p>If you do not supply a predicate, then the configuration applies globally to all resources in this service.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Classes/Service.html#/s:6Siesta7ServiceC9configure_14requestMethods11description10configureryAA31ConfigurationPatternConvertible_p_SayAA13RequestMethodOGSgSSSgyAA0H0VzctF">configure(_:requestMethods:description:configurer:)</a></code>
for pattern-based matching, and for details about the parameters.</p>

</div><div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="../Classes/Service.html#/c:@M@Siesta@objc(cs)BOSService(im)invalidateConfiguration">invalidateConfiguration()</a></code></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">configure</span><span class="p">(</span>
        <span class="n">whenURLMatches</span> <span class="nv">configurationPattern</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">URL</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="o">=</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="kc">true</span> <span class="p">},</span>
        <span class="nv">requestMethods</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Enums/RequestMethod.html">RequestMethod</a></span><span class="p">]?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span>
        <span class="nv">description</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span>
        <span class="nv">configurer</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="k">inout</span> <span class="kt"><a href="../Structs/Configuration.html">Configuration</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>whenURLMatches</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A predicate that matches absolute URLs of resources. The default is a predicate that matches anything.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/bustoutsolutions/siesta/blob/1.5.0/Source/Siesta/Service.swift#L234-L249">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta7ServiceC20configureTransformer_14requestMethods7atStage6action19onInputTypeMismatch15transformErrors11description16contentTransformyAA31ConfigurationPatternConvertible_p_SayAA13RequestMethodOGSgAA08PipelineH3KeyCAA0xH0V14MutationActionOAA015ResponseContentD0V0klM6ActionOyxq__GSbSSSgq_SgAA6EntityVyxGKctr0_lF"></a>
                    <a name="//apple_ref/swift/Method/configureTransformer(_:requestMethods:atStage:action:onInputTypeMismatch:transformErrors:description:contentTransform:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta7ServiceC20configureTransformer_14requestMethods7atStage6action19onInputTypeMismatch15transformErrors11description16contentTransformyAA31ConfigurationPatternConvertible_p_SayAA13RequestMethodOGSgAA08PipelineH3KeyCAA0xH0V14MutationActionOAA015ResponseContentD0V0klM6ActionOyxq__GSbSSSgq_SgAA6EntityVyxGKctr0_lF">configureTransformer(_:<wbr>requestMethods:<wbr>atStage:<wbr>action:<wbr>onInputTypeMismatch:<wbr>transformErrors:<wbr>description:<wbr>contentTransform:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Transforms responses by passing their content through the given closure. This is a shortcut for adding a
<code><a href="../Structs/ResponseContentTransformer.html">ResponseContentTransformer</a></code> to the <code><a href="../Structs/Configuration.html#/s:6Siesta13ConfigurationV8pipelineAA8PipelineVvp">Configuration.pipeline</a></code>.</p>

<p>Useful for transformers that create model objects. For example:</p>
<pre class="highlight swift"><code><span class="nf">configureTransformer</span><span class="p">(</span><span class="s">"/foo/​*"</span><span class="p">)</span> <span class="p">{</span>
  <span class="kt">FooModel</span><span class="p">(</span><span class="nv">json</span><span class="p">:</span> <span class="nv">$0</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>By default, the transfromer applies to GET, POST, PUT, PATCH, and DELETE requests — the HTTP methods that commonly
return a description of the resulting resource in the response body. If your API does not return a full model for
all these HTTP methods, you may need to configure different transformers for different request methods.</p>

<p>For example, here is configuration for a hypothetical API that wraps responses to mutating requests in an envelope
which the app models with an <code>UpdateResult</code> struct:</p>
<pre class="highlight swift"><code><span class="nf">configureTransformer</span><span class="p">(</span><span class="s">"/foo/​*"</span><span class="p">,</span> <span class="nv">requestMethods</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="k">get</span><span class="p">])</span> <span class="p">{</span>
  <span class="kt">FooModel</span><span class="p">(</span><span class="nv">json</span><span class="p">:</span> <span class="nv">$0</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="p">}</span>

<span class="nf">configureTransformer</span><span class="p">(</span><span class="s">"/foo/​*"</span><span class="p">,</span> <span class="nv">requestMethods</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="n">post</span><span class="p">,</span> <span class="o">.</span><span class="n">put</span><span class="p">,</span> <span class="o">.</span><span class="n">patch</span><span class="p">])</span> <span class="p">{</span>
  <span class="kt">UpdateResult</span><span class="o">&lt;</span><span class="kt">FooModel</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">json</span><span class="p">:</span> <span class="nv">$0</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>Note that <code>configureTransformer(...)</code> does <em>not</em> apply to HEAD and OPTIONS by default, but <code><a href="../Classes/Service.html#/s:6Siesta7ServiceC9configure_14requestMethods11description10configureryAA31ConfigurationPatternConvertible_p_SayAA13RequestMethodOGSgSSSgyAA0H0VzctF">configure(...)</a></code> does.</p>

<p>Siesta checks that the incoming <code><a href="../Structs/Entity.html#/s:6Siesta6EntityV7contentxvp">Entity.content</a></code> matches the type of the closure’s <code>content</code> parameter. In the
example code above, if the <code>json</code> parameter of <code>FooModel.init</code> takes a <code>Dictionary</code>, but the transformer pipeline
at that point has produced a <code>String</code>, then the transformer outputs a failure response.</p>

<p>You can use this behavior to configure a service to refuse all server responses not of a specific type by passing
a transformer that passes the content through unmodified, but requires a specific type:</p>
<pre class="highlight swift"><code><span class="n">service</span><span class="o">.</span><span class="nf">configureTransformer</span><span class="p">(</span><span class="s">"**"</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">$0</span><span class="o">.</span><span class="n">content</span> <span class="k">as</span> <span class="kt">JSONConvertible</span>  <span class="c1">// error if content from upstream in pipeline is not JSONConvertible</span>
<span class="p">}</span>
</code></pre>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <code><a href="../Classes/Service.html#/s:6Siesta7ServiceC9configure_14requestMethods11description10configureryAA31ConfigurationPatternConvertible_p_SayAA13RequestMethodOGSgSSSgyAA0H0VzctF">configure(_:requestMethods:description:configurer:)</a></code>
for more into about the parameters and configuration pattern matching.

</div><div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <code><a href="../Structs/ResponseContentTransformer.html">ResponseContentTransformer</a></code>
for more robust transformation options.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="n">configureTransformer</span><span class="o">&lt;</span><span class="kt">I</span><span class="p">,</span> <span class="kt">O</span><span class="o">&gt;</span><span class="p">(</span>
        <span class="n">_</span> <span class="nv">pattern</span><span class="p">:</span> <span class="kt"><a href="../Protocols/ConfigurationPatternConvertible.html">ConfigurationPatternConvertible</a></span><span class="p">,</span>
        <span class="nv">requestMethods</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Enums/RequestMethod.html">RequestMethod</a></span><span class="p">]?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span>
        <span class="n">atStage</span> <span class="nv">stage</span><span class="p">:</span> <span class="kt"><a href="../Classes/PipelineStageKey.html">PipelineStageKey</a></span> <span class="o">=</span> <span class="o">.</span><span class="n">model</span><span class="p">,</span>
        <span class="nv">action</span><span class="p">:</span> <span class="kt"><a href="../Structs/PipelineStage.html">PipelineStage</a></span><span class="o">.</span><span class="kt">MutationAction</span> <span class="o">=</span> <span class="o">.</span><span class="n">replaceExisting</span><span class="p">,</span>
        <span class="n">onInputTypeMismatch</span> <span class="nv">mismatchAction</span><span class="p">:</span> <span class="kt"><a href="../Structs/ResponseContentTransformer.html">ResponseContentTransformer</a></span><span class="o">&lt;</span><span class="kt">I</span><span class="p">,</span><span class="kt">O</span><span class="o">&gt;.</span><span class="kt">InputTypeMismatchAction</span> <span class="o">=</span> <span class="o">.</span><span class="n">error</span><span class="p">,</span>
        <span class="nv">transformErrors</span><span class="p">:</span> <span class="kt">Bool</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nv">description</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span>
        <span class="nv">contentTransform</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt"><a href="../Structs/ResponseContentTransformer.html">ResponseContentTransformer</a></span><span class="o">&lt;</span><span class="kt">I</span><span class="p">,</span> <span class="kt">O</span><span class="o">&gt;.</span><span class="kt">Processor</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/bustoutsolutions/siesta/blob/1.5.0/Source/Siesta/Service.swift#L294-L331">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@Siesta@objc(cs)BOSService(im)invalidateConfiguration"></a>
                    <a name="//apple_ref/swift/Method/invalidateConfiguration()" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@Siesta@objc(cs)BOSService(im)invalidateConfiguration">invalidateConfiguration()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Signals that all resources need to recompute their configuration next time they need it.</p>

<p>Because the <code><a href="../Classes/Service.html#/s:6Siesta7ServiceC9configure_14requestMethods11description10configureryAA31ConfigurationPatternConvertible_p_SayAA13RequestMethodOGSgSSSgyAA0H0VzctF">configure(...)</a></code> methods accept an arbitrary closure, it is possible that the results of
that closure could change over time. However, resources cache their configuration after it is computed. Therefore,
if you do anything that would change the result of a configuration closure, you must call
<code>invalidateConfiguration()</code> in order for the changes to take effect.</p>

<p><em>《insert your functional programming purist rant here if you so desire》</em></p>

<p>Note that you do <em>not</em> need to call this method after calling any of the <code><a href="../Classes/Service.html#/s:6Siesta7ServiceC9configure_14requestMethods11description10configureryAA31ConfigurationPatternConvertible_p_SayAA13RequestMethodOGSgSSSgyAA0H0VzctF">configure(...)</a></code> methods.
You only need to call it if one of the previously passed closures will now behave differently.</p>

<p>For example, to make a header track the value of a modifiable property:</p>
<pre class="highlight swift"><code><span class="k">var</span> <span class="nv">flavor</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="p">{</span>
  <span class="k">didSet</span> <span class="p">{</span> <span class="nf">invalidateConfiguration</span><span class="p">()</span> <span class="p">}</span>
<span class="p">}</span>

<span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">baseURL</span><span class="p">:</span> <span class="s">"https://api.github.com"</span><span class="p">)</span>
  <span class="n">configure</span> <span class="p">{</span>
    <span class="nv">$0</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">"Flavor-of-the-month"</span><span class="p">]</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">flavor</span>  <span class="c1">// NB: use weak self if service isn’t a singleton</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Note that this method does <em>not</em> immediately recompute all existing configurations. This is an inexpensive call.
Configurations are computed lazily, and the (still relatively low) performance impact of recomputation is spread
over subsequent resource interactions.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">invalidateConfiguration</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/bustoutsolutions/siesta/blob/1.5.0/Source/Siesta/Service.swift#L371-L380">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Wiping%20state"></a>
                <a name="//apple_ref/swift/Section/Wiping state" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Wiping%20state"></a>
                  <h3 class="section-name"><p>Wiping state</p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@Siesta@objc(cs)BOSService(im)wipeResourcesMatching:"></a>
                    <a name="//apple_ref/swift/Method/wipeResources(matching:)" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@Siesta@objc(cs)BOSService(im)wipeResourcesMatching:">wipeResources(matching:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Wipes the state of all this service’s resources. Typically used to handle logout.</p>

<p>Applies to resources matching the predicate, or all resources by default.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">wipeResources</span><span class="p">(</span><span class="n">matching</span> <span class="nv">predicate</span><span class="p">:</span> <span class="p">(</span><span class="kt"><a href="../Classes/Resource.html">Resource</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="o">=</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="kc">true</span> <span class="p">})</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/bustoutsolutions/siesta/blob/1.5.0/Source/Siesta/Service.swift#L417-L425">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:6Siesta7ServiceC13wipeResources8matchingyAA31ConfigurationPatternConvertible_p_tF"></a>
                    <a name="//apple_ref/swift/Method/wipeResources(matching:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:6Siesta7ServiceC13wipeResources8matchingyAA31ConfigurationPatternConvertible_p_tF">wipeResources(matching:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Wipes resources based on a URL pattern. For example:</p>
<pre class="highlight swift"><code><span class="n">service</span><span class="o">.</span><span class="nf">wipeResources</span><span class="p">(</span><span class="nv">matching</span><span class="p">:</span> <span class="s">"/secure/​**"</span><span class="p">)</span>
<span class="n">service</span><span class="o">.</span><span class="nf">wipeResources</span><span class="p">(</span><span class="nv">matching</span><span class="p">:</span> <span class="n">profileResource</span><span class="p">)</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">wipeResources</span><span class="p">(</span><span class="n">matching</span> <span class="nv">pattern</span><span class="p">:</span> <span class="kt"><a href="../Protocols/ConfigurationPatternConvertible.html">ConfigurationPatternConvertible</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/bustoutsolutions/siesta/blob/1.5.0/Source/Siesta/Service.swift#L433-L436">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@Siesta@objc(cs)BOSService(im)wipeResourcesWithURLsMatching:"></a>
                    <a name="//apple_ref/swift/Method/wipeResources(withURLsMatching:)" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@Siesta@objc(cs)BOSService(im)wipeResourcesWithURLsMatching:">wipeResources(withURLsMatching:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Wipes the state of a subset of this service’s resources, matching based on URLs (instead of <code><a href="../Classes/Resource.html">Resource</a></code> instances).</p>

<p>Useful for making shared predicates that you can pass to both <code><a href="../Classes/Service.html#/s:6Siesta7ServiceC9configure_14requestMethods11description10configureryAA31ConfigurationPatternConvertible_p_SayAA13RequestMethodOGSgSSSgyAA0H0VzctF">configure(...)</a></code> and this method.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">wipeResources</span><span class="p">(</span><span class="n">withURLsMatching</span> <span class="nv">predicate</span><span class="p">:</span> <span class="p">(</span><span class="kt">URL</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/bustoutsolutions/siesta/blob/1.5.0/Source/Siesta/Service.swift#L444-L447">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/In-memory%20cache%20management"></a>
                <a name="//apple_ref/swift/Section/In-memory cache management" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/In-memory%20cache%20management"></a>
                  <h3 class="section-name"><p>In-memory cache management</p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@Siesta@objc(cs)BOSService(py)cachedResourceCountLimit"></a>
                    <a name="//apple_ref/swift/Property/cachedResourceCountLimit" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@Siesta@objc(cs)BOSService(py)cachedResourceCountLimit">cachedResourceCountLimit</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Soft limit on the number of resources cached in memory. If the internal cache size exceeds this limit, Siesta
flushes all unused resources. Note that any resources still in use — i.e. retained outside of Siesta — will remain
in the cache, no matter how many there are.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="k">var</span> <span class="nv">cachedResourceCountLimit</span><span class="p">:</span> <span class="kt">Int</span> <span class="p">{</span> <span class="k">get</span> <span class="k">set</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/bustoutsolutions/siesta/blob/1.5.0/Source/Siesta/Service.swift#L457-L461">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@Siesta@objc(cs)BOSService(im)flushUnusedResources"></a>
                    <a name="//apple_ref/swift/Method/flushUnusedResources()" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@Siesta@objc(cs)BOSService(im)flushUnusedResources">flushUnusedResources()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Switches to weak references for all <code><a href="../Classes/Resource.html">Resource</a></code> instances cached by this service. This immediately releases any
resources not currently in use.</p>

<p>Siesta automatically flushes unused resources whenever:</p>

<ul>
<li>the number of cached resources exceeds <code><a href="../Classes/Service.html#/c:@M@Siesta@objc(cs)BOSService(py)cachedResourceCountLimit">cachedResourceCountLimit</a></code> or</li>
<li>there is a low memory event (iOS and tvOS only).</li>
</ul>

<p>It is unusual for apps to call this method directly. You might need it if you want to first fiddle with Siesta
resources yourself during a low memory event, then tell Siesta to release them when you are done. You might also
call it preemptively before a memory-intensive operation, to prevent memory churn.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">flushUnusedResources</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/bustoutsolutions/siesta/blob/1.5.0/Source/Siesta/Service.swift#L477-L480">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>© 2020 <a class="link" href="http://bustoutsolutions.com" target="_blank" rel="external">Bust Out Solutions</a> under <a class="link" href="https://github.com/bustoutsolutions/siesta/blob/master/LICENSE" target="_blank" rel="external">open source license</a>.</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.1</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
